<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Conversão</title>
</h:head>

<h:body>

	<h1>Conversão de Comprimento</h1>

	<h:messages showSummary="true" showDetail="false"/>

	<h:form>
		<h:panelGrid columns="1">
			<h:selectOneRadio value="#{conversao.medida}" required="true" validatorMessage="Selecione o modo de conversão" valueChangeListener="#{conversao.update}">
				<f:selectItem itemLabel="Quilômetro (km) para Milha (mi)"
					itemValue="km" />
				<f:selectItem itemLabel="Milha (mi) para Quilômetro (km)"
					itemValue="mi" />
				<f:ajax event="valueChange" execute="@form" render="@form"/>
				<ui:remove>
					<f:ajax event="valueChange" execute="@form" listener="#{conversao.update}" render="@form"/>
				</ui:remove>
			</h:selectOneRadio>
			<h:outputLabel for="km" value="Quilômetro:" />
			<h:inputText id="km" value="#{conversao.quilometro}" readonly="#{conversao.medida == 'mi'}">
				<f:convertNumber type="number" locale="pt_BR"/>
			</h:inputText>
			<h:outputLabel for="mi" value="Milha:" />
			<h:inputText id="mi" value="#{conversao.milha}" readonly="#{conversao.medida == 'km'}">
				<f:convertNumber type="number" locale="pt_BR"/>
			</h:inputText>
			<br/>
			<h:commandButton value="Converter" action="#{conversao.converter}" />
		</h:panelGrid>
	</h:form>

</h:body>

</html>