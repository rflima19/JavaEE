<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Pagamento</title>
</h:head>

<h:body>
	<h:form>
		<h:panelGrid columns="3">
			<h:outputLabel for="bandeira" value="Bandeira:" />
			<h:selectOneMenu id="bandeira" value="#{pagamento.compra.cartaoCredito.bandeira}" required="true">
				<f:selectItem itemLabel="Selecione" noSelectionOption="true" />
				<f:selectItems value="#{pagamento.compra.cartaoCredito.bandeiras}" var="b" itemLabel="#{b}" itemValue="#{b}"/>
			</h:selectOneMenu>
			<h:message for="bandeira" showDetail="true" showSummary="false" />

			<h:outputLabel for="numero" value="Número:" />
			<h:inputText id="numero" value="#{pagamento.compra.cartaoCredito.numero}" required="true">
				<f:validateRegex pattern="\d{16}"></f:validateRegex>
			</h:inputText>
			<h:message for="numero" showDetail="true" showSummary="false" />

			<h:outputLabel for="nome" value="Nome (como consta no cartão de crédito):" />
			<h:inputText id="nome" value="#{pagamento.compra.cartaoCredito.nome}" required="true">
				<f:validateLength minimum="2" maximum="50"/>
			</h:inputText>
			<h:message for="nome" showDetail="true" showSummary="false" />

			<h:outputLabel for="data" value="Data (mm/aaaa):" />
			<h:inputText id="data" value="#{pagamento.compra.cartaoCredito.dataValidade}" required="true">
				<f:convertDateTime pattern="MM/yyyy" />
				<f:validator validatorId="dateValidator"></f:validator>
			</h:inputText>
			<h:message for="data" showDetail="true" showSummary="false" />

			<h:outputLabel for="valor" value="Valor da compra (R$):" />
			<h:inputText id="valor" value="#{pagamento.compra.valor}" required="true">
				<f:convertNumber locale="pt_BR" maxFractionDigits="2" minFractionDigits="2" />
				<f:validateDoubleRange minimum="0"/>
			</h:inputText>
			<h:message for="valor" />
		</h:panelGrid>
		<h:commandButton value="Processar" action="#{pagamento.processar}" />
	</h:form>
</h:body>

</html>